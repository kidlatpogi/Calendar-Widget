const fs = require('fs');
const path = require('path');
const resolved = require.resolve('../lib/event-parser');
console.log('resolved:', resolved);
const disk = fs.readFileSync(resolved, 'utf8');
console.log('disk hash:', require('crypto').createHash('sha1').update(disk,'utf8').digest('hex'));
const mod = require('../lib/event-parser');
const cached = require.cache[resolved];
console.log('module.filename:', cached && cached.filename);
console.log('module.loaded:', cached && cached.loaded);
console.log('module.id:', cached && cached.id);
console.log('module.exports keys:', Object.keys(cached && cached.exports || {}));
console.log('exported fn length:', mod.expandRecurringEvent && mod.expandRecurringEvent.length);
console.log('exported fn toString hash:', require('crypto').createHash('sha1').update(String(mod.expandRecurringEvent),'utf8').digest('hex'));
console.log('exported fn toString slice:\n', String(mod.expandRecurringEvent).split('\n').slice(0,40).join('\n'));